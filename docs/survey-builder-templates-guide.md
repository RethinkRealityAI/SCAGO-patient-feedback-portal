# Survey Builder Templates & Question Bank Guide

## üé® Overview

The enhanced survey editor now includes **three powerful features** to accelerate survey creation:

1. **Section Templates** - Pre-built complete sections with multiple fields
2. **Block Templates** - Field groups with intuitive grid layouts
3. **Question Bank** - 60+ pre-configured individual questions

These features are extracted from proven survey templates and designed to maintain consistency while dramatically reducing the time to create professional surveys.

---

## üéØ Section Templates

### What are Section Templates?

Complete survey sections with multiple pre-configured fields, ready to add with one click. Perfect for adding entire segments like "Contact Information" or "Hospital Experience" instantly.

### Available Templates

| Template | Icon | Fields | Category |
|----------|------|---------|----------|
| **Basic Information** | üë§ | Name, email, phone, city, province (6 fields) | Contact |
| **Hospital Experience** | üè• | Visit date, hospital, department, description, rating (5 fields) | Healthcare |
| **Demographics** | üìä | Age range, gender, ethnicity (3 fields) | Demographics |
| **Consent & Confirmation** | ‚úÖ | Age confirmation, consent checkbox, signature (3 fields) | Legal |
| **Additional Feedback** | üí¨ | Comments, follow-up consent (2 fields) | Feedback |

### How to Use

1. **Navigate to Sections Tab** in the survey editor
2. **Click "From Template"** button next to "Add Section"
3. **Browse by category** or search for the template you need
4. **Click on a template card** to add it to your survey
5. **Customize** field labels, validation, or order as needed

### Field Grouping

Section templates automatically group related fields side-by-side for better UX:
- Name fields (First Name + Last Name)
- Contact fields (Email + Phone)
- Location fields (City + Province)

---

## üß± Block Templates

### What are Block Templates?

Pre-configured field groups with professional layouts. Blocks contain 2-4 related fields arranged in intuitive grid patterns.

### Popular Blocks

| Block | Icon | Pattern | Description |
|-------|------|---------|-------------|
| **Name Fields** | üë§ | 2x1 | First name + Last name |
| **Contact Fields** | üìß | 2x1 | Email + Phone |
| **Location Fields** | üìç | 2x1 | City + Province |
| **Hospital Visit** | üè• | 2x1 | Hospital + Department |
| **Full Address** | üè† | 2x2 | Street, City, Province, Postal Code |
| **Date & Time** | üìÖ | 2x1 | Date + Time |
| **Rating Scales** | ‚≠ê | 2x1 | Two rating fields |
| **Yes/No Questions** | ‚úì‚úó | 2x1 | Two yes/no radio questions |

### Grid Patterns

Choose from 6 visual grid layouts when creating custom blocks:

- **1x1** - Single full-width field
- **2x1** - Two fields side-by-side ‚¨ú‚¨ú
- **3x1** - Three fields in a row ‚¨ú‚¨ú‚¨ú
- **4x1** - Four fields in a row ‚¨ú‚¨ú‚¨ú‚¨ú
- **2x2** - Four fields in 2x2 grid
- **1x2** - Two fields stacked vertically

### How to Use

**Option 1: Use a Pre-built Block**

1. Click **"Add Block"** in the question area
2. Browse **Popular** or **All Blocks** tabs
3. Click on a block to add it
4. Customize field types and labels as needed

**Option 2: Create a Custom Block**

1. Click **"Add Block"** button
2. Go to **"Custom Layout"** tab
3. **Select a grid pattern** (visual preview shown)
4. Click **"Create Group"**
5. Edit each field type and label individually

---

## üìö Question Bank

### What is the Question Bank?

A curated library of **60+ pre-configured questions** extracted from proven survey templates. Each question includes:
- ‚úÖ Appropriate field type
- ‚úÖ Validation rules
- ‚úÖ Pre-populated options (where applicable)
- ‚úÖ Professional labels and descriptions

### Categories

Questions are organized into 8 categories:

#### 1. **Contact** (8 questions)
- First Name, Last Name
- Email, Phone
- Street Address, City, Province, Postal Code

#### 2. **Healthcare** (8 questions)
- Hospital Name, Department
- Patient or Caregiver selector
- Visit Type (Outpatient, Emergency, Inpatient)
- HCP Familiarity, Physician Name
- In Pain Crisis, Time to Analgesia

#### 3. **Date & Time** (5 questions)
- Visit Date, Interaction Date
- Visit Time, Date of Birth
- Hospital Stay Duration

#### 4. **Feedback** (8 questions)
- Rating (1-5 stars)
- NPS Score (1-10)
- Experience Description
- Right Investigations, Concerns Addressed
- Optimal Time, HCP Respectfulness

#### 5. **Consent** (5 questions)
- Age Confirmation (18+)
- Consent to Participate
- Digital Signature, Signature Date
- Submit Anonymously toggle

#### 6. **Yes/No** (3 questions)
- May Contact for Follow-up
- Reported to Hospital
- Timely Medications

#### 7. **Demographics** (3 questions)
- Age Range
- Gender
- Title (Mr, Mrs, Ms, etc)

#### 8. **Communication** (2 questions)
- Preferred Contact Method
- Join Mailing List

### Features

#### **Search** üîç
- Search by question name, description, or tags
- Real-time filtering

#### **Tag Filtering** üè∑Ô∏è
- Filter questions by tags (e.g., "required", "healthcare", "consent")
- Multiple tag selection
- Clear filters with one click

#### **Popular Questions** ‚≠ê
- Pre-filtered view of most commonly used questions
- Starred for quick identification

#### **Smart Views**
- **Popular**: Most frequently used questions
- **All Questions**: Browse the complete library
- **By Category**: Organized by functional area

### How to Use

1. **Click "From Question Bank"** in the question area
2. **Search or browse** to find the question you need
3. **Filter by tags** to narrow down options (optional)
4. **Click on a question card** to add it
5. **Modify** the question if needed (labels, validation, options)

### Question Details

Each question card shows:
- **Icon** - Visual identifier
- **Name** - Question title
- **Description** - What the question is for
- **Field Type** - The technical type (badge)
- **Required Badge** - If validation is required
- **Tags** - Searchable keywords
- **Popular Star** - Indicates frequently used questions

---

## üöÄ Workflow Examples

### Example 1: Creating a Hospital Feedback Survey

1. **Add Section from Template**
   - Use "Basic Information" template
   - Use "Hospital Experience" template

2. **Add Individual Questions**
   - From Question Bank: "HCP Respectfulness"
   - From Question Bank: "Timely Medications"

3. **Customize**
   - Edit section descriptions
   - Adjust validation rules
   - Reorder fields as needed

**Time saved:** ~10 minutes vs creating from scratch

### Example 2: Building a Consent Form

1. **Add Section from Template**
   - Use "Consent & Confirmation" template

2. **Add Block**
   - Add "Name Fields" block
   - Add "Contact Fields" block

3. **Add Questions**
   - From Question Bank: "Digital Signature"
   - From Question Bank: "Signature Date"

4. **Group Related Fields**
   - Use "Full Address" block for complete address

**Time saved:** ~15 minutes vs manual creation

### Example 3: Quick Demographics Section

1. **Create New Section** manually
   - Title: "Demographics"

2. **Add Block**
   - Use "Demographics" section template
   - Or add individual questions from Demographics category

3. **Add Custom Question**
   - Create any additional demographic questions needed

**Time saved:** ~5 minutes

---

## üí° Best Practices

### DO ‚úÖ

- **Start with templates** when available - they're tested and validated
- **Use blocks for related fields** - improves form UX
- **Browse Popular questions** first - they're used most frequently
- **Search the Question Bank** before creating custom - likely already exists
- **Customize after adding** - templates are starting points
- **Group side-by-side fields** using 2x1 or 3x1 patterns

### DON'T ‚ùå

- **Don't duplicate questions** - check Question Bank first
- **Don't skip validation** - templates include it, maintain it
- **Don't ignore grid patterns** - they optimize layout
- **Don't forget to test** - preview your survey after using templates

---

## üé® Customization After Adding

### All Templates are Editable

After adding any template, section, block, or question, you can:

1. **Edit Labels** - Change question text
2. **Modify Validation** - Add/remove required flags
3. **Adjust Options** - Change select/radio options
4. **Reorder Fields** - Drag and drop to reorganize
5. **Delete Fields** - Remove unwanted fields
6. **Add Conditional Logic** - Show/hide based on other answers
7. **Change Field Types** - Convert between compatible types

### Unique IDs

All templates automatically generate unique IDs when added, so you can:
- Add the same template multiple times
- Customize each instance independently
- Avoid ID conflicts

---

## üîß Technical Details

### Field ID Generation

- Template/question IDs are made unique with `nanoid()`
- Format: `{originalId}-{6-char-random}`
- Example: `firstName-a3b2c1`

### Options Regeneration

- Radio/select options get new IDs when added
- Prevents option ID conflicts
- Maintains option values and labels

### Validation Preservation

- Required flags are maintained
- Regex patterns are included
- Field-specific validation rules preserved

---

## üìä Statistics

### Question Bank Contents

- **Total Questions:** 60+
- **Categories:** 8
- **Popular Questions:** 20+
- **Fields with Validation:** 40+
- **Fields with Options:** 30+

### Time Savings

| Task | Manual Creation | With Templates | Time Saved |
|------|----------------|---------------|------------|
| Basic Information Section | 10 min | 1 min | 9 min |
| Hospital Experience Section | 12 min | 1 min | 11 min |
| Single Complex Question | 3 min | 10 sec | 2.5 min |
| Field Group (Block) | 5 min | 15 sec | 4.5 min |
| Complete Survey (10 sections) | 2 hours | 30 min | 90 min |

---

## üÜï Future Enhancements

Potential additions to the template system:

### Planned Features
- [ ] Custom template creation (save your own)
- [ ] Template sharing between users
- [ ] Import templates from CSV
- [ ] Template versioning
- [ ] More grid patterns (responsive layouts)
- [ ] Conditional block templates
- [ ] Industry-specific question packs

### Requested Features
- [ ] Multi-language question bank
- [ ] Question suggestions based on survey type
- [ ] Template analytics (usage statistics)
- [ ] Favorite/bookmark questions

---

## üìö Related Documentation

- **Creating Surveys Guide:** `docs/creating-surveys.md`
- **Consent Survey Guide:** `docs/consent-survey-guide.md`
- **Field Types Reference:** See survey editor for complete list
- **Conditional Logic:** `docs/creating-surveys.md#conditional-logic`

---

## üÜò Troubleshooting

### Template Not Showing

- Clear browser cache
- Refresh the page
- Check console for errors

### Fields Not Grouping Side-by-Side

- Ensure you're using a `group` field type
- Check that child fields are properly nested
- Verify grid pattern selection

### Question Bank Search Not Working

- Check for typos in search term
- Clear tag filters
- Try broader search terms

### Can't Find a Specific Question

1. Try different search terms
2. Browse by category
3. Check all tags
4. Create custom if truly unique

---

## üí¨ Feedback

Have suggestions for:
- New section templates?
- Additional block patterns?
- Missing questions in the bank?

Please contribute or submit feedback!

---

**Built with ‚ù§Ô∏è to make survey creation fast, consistent, and enjoyable**
